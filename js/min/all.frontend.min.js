function onYouTubeIframeAPIReady(){slideshow_jquery_image_gallery_script.youTubeAPIReady=!0}slideshow_jquery_image_gallery_script=function(){var e=jQuery,t={};return t.registeredSlideshows=[],t.youTubeAPIReady=!1,t.loadYouTubeAPICalled=!1,t.stylesheetURLChecked=!1,t.activateSlideshows=function(){e.each(jQuery(".slideshow_container"),function(a,i){var s=e(i),o=s.data("sessionId");isNaN(parseInt(o,10))&&(o=s.attr("data-session-id")),e.inArray(o,t.registeredSlideshows)<0&&new t.Slideshow(s)})},t.loadYouTubeAPI=function(){if(!(t.loadYouTubeAPICalled||(t.loadYouTubeAPICalled=!0,e(".slideshow_slide_video").length<=0))){var a=document.createElement("script"),i=document.getElementsByTagName("script")[0];a.src="//www.youtube.com/iframe_api",i.parentNode.insertBefore(a,i)}},t.checkStylesheetURL=function(){if(!t.stylesheetURLChecked){t.stylesheetURLChecked=!0;var a=e('[id*="slideshow-jquery-image-gallery-ajax-stylesheet_"]');a.length<=0||e.each(a,function(t,a){var i,s,o,l=e(a),d=e(a).attr("href");void 0!==d&&""!==d&&(i=l.attr("id").split("_"),s=i.splice(1,i.length-1).join("_").slice(0,-4),o=d.split("?"),(void 0===o[1]||""===o[1]||o[1].toLowerCase().indexOf("style=")<0)&&(o[1]="action=slideshow_jquery_image_gallery_load_stylesheet&style="+s+"&ver="+Math.round((new Date).getTime()/1e3),d=o.join("?"),l.attr("href",d)))})}},e(document).ready(function(){t.loadYouTubeAPI(),t.checkStylesheetURL(),t.activateSlideshows()}),e(window).load(function(){t.loadYouTubeAPI(),t.checkStylesheetURL(),t.activateSlideshows()}),t}();!function(){var i=jQuery,e=slideshow_jquery_image_gallery_script;e.Slideshow=function(t){if(this.$container=t,this.$content=this.$container.find(".slideshow_content"),this.$views=this.$container.find(".slideshow_view"),this.$slides=this.$container.find(".slideshow_slide"),this.$controlPanel=this.$container.find(".slideshow_controlPanel"),this.$togglePlayButton=this.$controlPanel.find(".slideshow_togglePlay"),this.$nextButton=this.$container.find(".slideshow_next"),this.$previousButton=this.$container.find(".slideshow_previous"),this.$pagination=this.$container.find(".slideshow_pagination"),this.$loadingIcon=this.$container.find(".slideshow_loading_icon"),this.ID=this.getID(),!isNaN(parseInt(this.ID,10))){this.settings=window["SlideshowPluginSettings_"+this.ID],i.each(this.settings,i.proxy(function(i,e){"true"==e?this.settings[i]=!0:"false"==e&&(this.settings[i]=!1)},this)),this.$parentElement=this.$container.parent(),this.viewData=[],this.viewIDs=[],this.navigationActive=!0,this.currentViewID=void 0,this.currentWidth=0,this.visibleViews=[],this.videoPlayers=[],this.interval=!1,this.mouseEnterTimer=!1,this.invisibilityTimer=!1,this.descriptionTimer=!1,this.randomNextHistoryViewIDs=[],this.randomPreviousHistoryViewIDs=[],this.randomAvailableViewIDs=[],e.registeredSlideshows.push(this.ID),i.each(this.$views,i.proxy(function(i){this.viewIDs.push(i)},this)),this.currentViewID=this.getNextViewID(),this.visibleViews=[this.currentViewID],this.recalculate(!1);var s=!0;i.each(this.$views,i.proxy(function(e,t){var a=i(t);this.recalculateView(e),e!=this.visibleViews[0]?a.css("top",this.$container.outerHeight(!0)):a.addClass("slideshow_currentView"),this.viewData[e]=[],i.each(a.find(".slideshow_slide"),i.proxy(function(t,a){var n=i(a);if(this.viewData[e][t]={imageDimension:""},this.settings.waitUntilLoaded&&n.hasClass("slideshow_slide_image")){var o=n.find("img");o.length>0?o.each(i.proxy(function(a,n){n.complete?this.viewData[e][t].loaded=1:(e===this.currentViewID&&(s=!1),this.viewData[e][t].loaded=0,o.load(i.proxy(function(){this.viewData[e][t].loaded=1,e===this.currentViewID&&this.isViewLoaded(e)&&this.firstStart()},this)).bind("error",i.proxy(function(){this.viewData[e][t].loaded=2},this)))},this)):this.viewData[e][t].loaded=-1}else this.viewData[e][t].loaded=-1},this))},this)),i(window).load(i.proxy(function(){this.recalculateVisibleViews()},this)),parseFloat(this.settings.intervalSpeed)<parseFloat(this.settings.slideSpeed)+.1&&(this.settings.intervalSpeed=parseFloat(this.settings.slideSpeed)+.1),this.activateDescriptions(),this.activateControlPanel(),this.activateNavigationButtons(),this.activatePagination(),this.activatePauseOnHover(),(!this.settings.waitUntilLoaded||s)&&this.firstStart()}}}();!function(){var i=jQuery,t=slideshow_jquery_image_gallery_script;t.Slideshow.prototype.firstStart=function(){this.$loadingIcon.length>0&&this.$loadingIcon.remove(),this.$content.show(),this.settings.enableResponsiveness&&i(window).resize(i.proxy(function(){this.recalculate(!0)},this)),this.start()},t.Slideshow.prototype.start=function(){this.settings.play&&!this.interval&&(this.interval=setInterval(i.proxy(function t(e,s){void 0===s&&(s=this),void 0===e&&(e=s.getNextViewID()),s.isViewLoaded(e)?(s.animateTo(e,1),s.start()):(s.stop(),setTimeout(i.proxy(function(){t(e,s)},s),100))},this),1e3*this.settings.intervalSpeed))},t.Slideshow.prototype.stop=function(){clearInterval(this.interval),this.interval=!1},t.Slideshow.prototype.isVideoPlaying=function(){for(var i in this.videoPlayers)if(this.videoPlayers.hasOwnProperty(i)){var t=this.videoPlayers[i].state;if(1==t||3==t)return!0}return!1},t.Slideshow.prototype.pauseAllVideos=function(){for(var i in this.videoPlayers)if(this.videoPlayers.hasOwnProperty(i)){var t=this.videoPlayers[i].player;null!=t&&"function"==typeof t.pauseVideo&&(this.videoPlayers[i].state=2,t.pauseVideo())}},t.Slideshow.prototype.isViewLoaded=function(t){var e=!0;return i.each(this.viewData[t],i.proxy(function(i,t){0==t.loaded&&(e=!1)},this)),e},t.Slideshow.prototype.getNextViewID=function(){var i=this.currentViewID;if(this.settings.random){var t=i;if(i=this.getNextRandomViewID(),i!=t)return i}return isNaN(parseInt(i,10))?0:i>=this.$views.length-1?this.settings.loop?0:this.currentViewID:i+1},t.Slideshow.prototype.getPreviousViewID=function(){var i=this.currentViewID;if(isNaN(parseInt(i,10))&&(i=0),this.settings.random){var t=i;if(i=this.getPreviousRandomViewID(),i!=t)return i}return 0>=i?this.settings.loop?i=this.$views.length-1:this.currentViewID:i-=1},t.Slideshow.prototype.getNextRandomViewID=function(){return isNaN(parseInt(this.currentViewID,10))||this.randomPreviousHistoryViewIDs.push(this.currentViewID),this.randomPreviousHistoryViewIDs.length>2*this.viewIDs.length&&this.randomPreviousHistoryViewIDs.shift(),this.randomNextHistoryViewIDs.length>0?this.randomNextHistoryViewIDs.pop():((void 0===this.randomAvailableViewIDs||this.randomAvailableViewIDs.length<=0)&&(this.randomAvailableViewIDs=i.extend(!0,[],this.viewIDs),this.randomAvailableViewIDs.splice(i.inArray(this.currentViewID,this.randomAvailableViewIDs))),this.randomAvailableViewIDs.splice(Math.floor(Math.random()*this.randomAvailableViewIDs.length),1).pop())},t.Slideshow.prototype.getPreviousRandomViewID=function(){return isNaN(parseInt(this.currentViewID,10))||this.randomNextHistoryViewIDs.push(this.currentViewID),this.randomNextHistoryViewIDs.length>2*this.viewIDs.length&&this.randomNextHistoryViewIDs.shift(),this.randomPreviousHistoryViewIDs.length>0?this.randomPreviousHistoryViewIDs.pop():this.viewIDs[Math.floor(Math.random()*this.viewIDs.length)]},t.Slideshow.prototype.getID=function(){var i=this.$container.data("sessionId");return isNaN(parseInt(i,10))&&(i=this.$container.attr("data-session-id")),i}}();!function(){var e=jQuery,t=slideshow_jquery_image_gallery_script;t.Slideshow.prototype.animateTo=function(t,i){if(!(this.isVideoPlaying()||0>t||t>=this.$views.length||t==this.currentViewID)){this.navigationActive=!1,(isNaN(parseInt(i,10))||0==i)&&(i=t<this.currentViewID?-1:1),this.visibleViews=[this.currentViewID,t];var s=this.settings.animation,o=["slide","slideRight","slideUp","slideDown","fade","directFade"];"random"==s&&(s=o[Math.floor(Math.random()*o.length)]);var n={slide:"slideRight",slideRight:"slide",slideUp:"slideDown",slideDown:"slideUp",fade:"fade",directFade:"directFade"};0>i&&(s=n[s]);var a=e(this.$views[this.currentViewID]),r=e(this.$views[t]);switch(a.stop(!0,!0),r.stop(!0,!0),r.addClass("slideshow_nextView"),this.recalculateVisibleViews(),this.currentViewID=t,this.$container.trigger("slideshowAnimate"),s){case"slide":r.css({top:0,left:this.$content.width()}),a.animate({left:-a.outerWidth(!0)},1e3*this.settings.slideSpeed),r.animate({left:0},1e3*this.settings.slideSpeed),setTimeout(e.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"slideRight":r.css({top:0,left:-this.$content.width()}),a.animate({left:a.outerWidth(!0)},1e3*this.settings.slideSpeed),r.animate({left:0},1e3*this.settings.slideSpeed),setTimeout(e.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"slideUp":r.css({top:this.$content.height(),left:0}),a.animate({top:-a.outerHeight(!0)},1e3*this.settings.slideSpeed),r.animate({top:0},1e3*this.settings.slideSpeed),setTimeout(e.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"slideDown":r.css({top:-this.$content.height(),left:0}),a.animate({top:a.outerHeight(!0)},1e3*this.settings.slideSpeed),r.animate({top:0},1e3*this.settings.slideSpeed),setTimeout(e.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"fade":r.css({top:0,left:0,display:"none"}),a.fadeOut(1e3*this.settings.slideSpeed/2),setTimeout(e.proxy(function(){r.fadeIn(1e3*this.settings.slideSpeed/2),a.stop(!0,!0).css({top:this.$container.outerHeight(!0),display:"block"})},this),1e3*this.settings.slideSpeed/2);break;case"directFade":r.css({top:0,left:0,"z-index":0,display:"none"}),a.css({"z-index":1}),r.stop(!0,!0).fadeIn(1e3*this.settings.slideSpeed),a.stop(!0,!0).fadeOut(1e3*this.settings.slideSpeed),setTimeout(e.proxy(function(){r.stop(!0,!0).css({"z-index":0}),a.stop(!0,!0).css({top:this.$container.outerHeight(!0),display:"block","z-index":0})},this),1e3*this.settings.slideSpeed)}setTimeout(e.proxy(function(){a.removeClass("slideshow_currentView"),r.removeClass("slideshow_nextView"),r.addClass("slideshow_currentView"),this.visibleViews=[t],this.navigationActive=!0},this),1e3*this.settings.slideSpeed)}}}();!function(){var t=jQuery,i=slideshow_jquery_image_gallery_script;i.Slideshow.prototype.recalculate=function(i){if(!this.$container.is(":visible"))return this.invisibilityTimer=setInterval(t.proxy(function(){this.$container.is(":visible")&&(this.recalculate(i),clearInterval(this.invisibilityTimer),this.invisibilityTimer=!1)},this),500),void 0;for(var e=this.$parentElement,s=0;e.width()<=0&&(e=e.parent(),!(s>50));s++);if(this.currentWidth!=e.width()){this.currentWidth=e.width();var h=e.width()-(this.$container.outerWidth()-this.$container.width());if(parseInt(this.settings.maxWidth,10)>0&&parseInt(this.settings.maxWidth,10)<h&&(h=parseInt(this.settings.maxWidth,10)),this.$container.css("width",Math.floor(h)),this.$content.css("width",Math.floor(h)-(this.$content.outerWidth(!0)-this.$content.width())),this.settings.preserveSlideshowDimensions){var o=h*this.settings.dimensionHeight/this.settings.dimensionWidth;this.$container.css("height",Math.floor(o)),this.$content.css("height",Math.floor(o)-(this.$content.outerHeight(!0)-this.$content.height()))}else this.$container.css("height",Math.floor(this.settings.height)),this.$content.css("height",Math.floor(this.settings.height));this.$views.each(t.proxy(function(i,e){t.inArray(i,this.visibleViews)<0&&t(e).css("top",this.$container.outerHeight(!0))},this)),this.$container.trigger("slideshowResize"),(i||void 0==i)&&this.recalculateVisibleViews()}},i.Slideshow.prototype.recalculateVisibleViews=function(){t.each(this.visibleViews,t.proxy(function(t,i){this.recalculateView(i)},this))},i.Slideshow.prototype.recalculateView=function(e){var s=t(this.$views[e]);if(this.$content.width()!=s.outerWidth(!0)){var h=s.find(".slideshow_slide");if(!(h.length<=0)){var o=this.$content.width()-(s.outerWidth(!0)-s.width()),n=this.$content.height()-(s.outerHeight(!0)-s.height()),a=Math.floor(o/h.length),r=n,d=o%h.length,l=0;t(h[0]).css("margin-left",0),t(h[h.length-1]).css("margin-right",0),t.each(h,t.proxy(function(s,o){var n=t(o),c=n.outerWidth(!0)-n.width(),w=n.outerHeight(!0)-n.height();if(s==h.length-1?n.width(a-c+d):n.width(a-c),n.height(r-w),n.hasClass("slideshow_slide_text")){var u=n.find(".slideshow_background_anchor");if(u.length<=0)return;var g=n.width()-(u.outerWidth(!0)-u.width()),p=n.height()-(u.outerHeight(!0)-u.height());u.css({width:g,height:p})}else if(n.hasClass("slideshow_slide_image")){var v=n.find("img");if(v.length<=0)return;var f=n.width()-(v.outerWidth(!0)-v.width()),y=n.height()-(v.outerHeight(!0)-v.height());if(this.settings.stretchImages)v.css({width:f,height:y}),v.attr({width:f,height:y});else if(v.width()>0&&v.height()>0){var m;"object"!=typeof this.viewData||"object"!=typeof this.viewData[e]||"object"!=typeof this.viewData[e][s]||isNaN(parseInt(this.viewData[e][s].imageDimension))?("object"!=typeof this.viewData[e]&&(this.viewData[e]=[]),"object"!=typeof this.viewData[e][s]&&(this.viewData[e][s]=[]),m=this.viewData[e][s].imageDimension=v.outerWidth(!0)/v.outerHeight(!0)):m=this.viewData[e][s].imageDimension;var I=n.width()/n.height();m>=I?(v.css({margin:"0px",width:f,height:Math.floor(f/m)}),v.attr({width:f,height:Math.floor(f/m)})):I>m&&(v.css({"margin-left":"auto","margin-right":"auto",display:"block",width:Math.floor(y*m),height:y}),v.attr({width:Math.floor(y*m),height:y}))}}else if(n.hasClass("slideshow_slide_video")){var D=n.find("iframe");if(D.length>0)D.attr({width:n.width(),height:n.height()});else var V=setInterval(t.proxy(function(){if(i.youTubeAPIReady){clearInterval(V);var e=n.find(".slideshow_slide_video_id");e.attr("id","slideshow_slide_video_"+Math.floor(1e6*Math.random())+"_"+e.text());var s=e.attr("data-show-related-videos"),h=new YT.Player(e.attr("id"),{width:n.width(),height:n.height(),videoId:e.text(),playerVars:{wmode:"opaque",rel:s},events:{onReady:function(){},onStateChange:t.proxy(function(t){this.videoPlayers[e.attr("id")].state=t.data},this)}}),o=t("#"+e.attr("id"));o.show(),o.attr("src",o.attr("src")+"&wmode=opaque"),this.videoPlayers[e.attr("id")]={player:h,state:-1}}},this),500)}l+=n.outerWidth(!0)},this)),s.css({width:o,height:n})}}}}();!function(){var t=jQuery,i=slideshow_jquery_image_gallery_script;i.Slideshow.prototype.activateDescriptions=function(){this.settings.showDescription&&(t.each(this.$slides.find(".slideshow_description"),t.proxy(function(i,e){var s=t(e);s.show(),this.settings.hideDescription?s.css({position:"absolute",top:this.$container.outerHeight(!0)}):s.css({position:"absolute",bottom:0})},this)),this.settings.hideDescription&&(this.$container.bind("slideshowResize",t.proxy(function(){t.each(this.$container.find(".slideshow_description"),t.proxy(function(i,e){t(e).css("top",this.$container.outerHeight(!0))},this))},this)),this.$container.bind("slideshowAnimate",t.proxy(function(){void 0!=this.visibleViews[1]&&t.each(t(this.$views[this.visibleViews[1]]).find(".slideshow_description"),t.proxy(function(i,e){t(e).css("top",this.$container.outerHeight(!0))},this))},this)),this.$slides.mouseenter(t.proxy(function(i){var e=t(i.currentTarget).find(".slideshow_description");this.descriptionTimer=setTimeout(t.proxy(function(){this.descriptionTimer="",e.stop(!0,!1).animate({top:this.$container.outerHeight(!0)-e.outerHeight(!0)},parseInt(1e3*this.settings.descriptionSpeed,10))},this),100)},this)),this.$slides.mouseleave(t.proxy(function(i){this.descriptionTimer===!1&&(clearInterval(this.descriptionTimer),this.descriptionTimer=!1),t(i.currentTarget).find(".slideshow_description").stop(!0,!1).animate({top:this.$container.outerHeight(!0)},parseInt(1e3*this.settings.descriptionSpeed,10))},this))))},i.Slideshow.prototype.activateNavigationButtons=function(){this.settings.controllable&&(this.$nextButton.click(t.proxy(function(){this.navigationActive&&(this.pauseAllVideos(),this.stop(),this.animateTo(this.getNextViewID(),1),this.start())},this)),this.$previousButton.click(t.proxy(function(){this.navigationActive&&(this.pauseAllVideos(),this.stop(),this.animateTo(this.getPreviousViewID(),-1),this.start())},this)),this.settings.hideNavigationButtons?(this.$container.mouseenter(t.proxy(function(){this.$nextButton.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$nextButton.stop(!0,!0).fadeOut(500)},this)),this.$container.mouseenter(t.proxy(function(){this.$previousButton.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$previousButton.stop(!0,!0).fadeOut(500)},this))):(this.$nextButton.show(),this.$previousButton.show()))},i.Slideshow.prototype.activateControlPanel=function(){this.settings.controlPanel&&(this.settings.play?this.$togglePlayButton.attr("class","slideshow_pause"):this.$togglePlayButton.attr("class","slideshow_play"),this.$togglePlayButton.click(t.proxy(function(i){this.settings.play?(this.settings.play=!1,t(i.currentTarget).attr("class","slideshow_play"),this.stop()):(this.settings.play=!0,t(i.currentTarget).attr("class","slideshow_pause"),this.start())},this)),this.settings.hideControlPanel?(this.$container.mouseenter(t.proxy(function(){this.$controlPanel.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$controlPanel.stop(!0,!0).fadeOut(500)},this))):this.$controlPanel.show())},i.Slideshow.prototype.activatePagination=function(){if(this.settings.showPagination){this.$pagination.find(".slideshow_pagination_center").html("<ul></ul>");var i=this.$pagination.find("ul");i.html(""),this.$views.each(t.proxy(function(t){var e="";t==this.currentViewID&&(e="slideshow_currentView"),i.append('<li class="slideshow_transparent '+e+'"><span style="display: none;">'+t+"</span></li>")},this)),this.$pagination.find("li").click(t.proxy(function(i){if(this.navigationActive){var e=t(i.currentTarget).find("span").text();isNaN(parseInt(e,10))||(this.pauseAllVideos(),this.stop(),this.animateTo(parseInt(e,10),0),this.start())}},this)),this.$container.bind("slideshowAnimate",t.proxy(function(){var i=this.$pagination.find("li");i.each(t.proxy(function(i,e){t(e).removeClass("slideshow_currentView")},this)),t(i[this.currentViewID]).addClass("slideshow_currentView")},this)),this.settings.hidePagination?(this.$container.mouseenter(t.proxy(function(){this.$pagination.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$pagination.stop(!0,!0).fadeOut(500)},this))):this.$pagination.show()}},i.Slideshow.prototype.activatePauseOnHover=function(){this.settings.pauseOnHover&&(this.$container.mouseenter(t.proxy(function(){clearTimeout(this.mouseEnterTimer),this.mouseEnterTimer=setTimeout(t.proxy(function(){this.stop()},this),500)},this)),this.$container.mouseleave(t.proxy(function(){clearTimeout(this.mouseEnterTimer),this.interval===!1&&this.start()},this)))}}();